# 1월 21일 자바스크립트

### for문

- for 반복문 : 초기식, 조건식, 증감식으로 구성되는 for문 - for(초기식;조건식;증감식)
- forin 반복문 : 배열이나 객체를 가지고 반복을 처리하는 for문 - for(인덱스(키)를 저장할 변수 정의 in 배열 또는 객체)



### 배열

> 파이썬의 리스트 객체와 거의 동일

- 여러 데이터들을 하나의 묶음으로 다루고자 할 때 사용
- 묶을 수 있는 데이터의 개수에 제한이 없고, 데이터 타입도 제한이 없다.
- 자바스크립트의 배열도 객체로 취급
- 배열의 생성 방법
  1. 배열 리터럴 방법 - [1,2,3,4,5], ['aaa', 100, true, 3.4], [], [,,,,,,]
  2. API를 이용하는 방법 - new Array(1,2,3,4,5), new Array('aaa', 100, true, 3.4), new Array(), new Array(8)
- 배열 사용 방법
  - 배열의 크기(배열을 구성하는 엘리먼트의 개수) : 배열 객체의 length라는 속성(변수)의 값을 사용
  - 배열의 요소(원소, 엘리먼트)를 접근(l-value, r-value 모두 가능) : [0부터 시작하는 인덱스(음수x)]



#### 1. 리터럴을 사용한 배열 생성

```javascript
var a1 = [ ];	// 빈 배열
document.write("<h3>"+ typeof a1 +"</h3>");		// 배열의 타입은 object
document.write("<h3>"+ Array.isArray(a1) +"</h3>");
document.write("<h3>"+ a1.length +"</h3>");		// 0
document.write("<h3>"+ a1[0] +"</h3>");
a1[4] = 100;	// 자동으로 4번 인덱스까지 생성하고 빈칸은 undefined로 채움
for(var i=0; i < a1.length; i++)	// undefined 값까지 출력
	document.write("<h4>"+ a1[i] +"</h4>");
for(var i in a1) 	// undefined 값은 무시하고 출력
	document.write("<h4>"+ a1[i] +"</h4>");	// 100

var a2 = [10, '가나다', true, 3.5];
for(var i in a2)  // for(int data : ary)
	document.write("<h4>"+ typeof a2[i] + ":" + a2[i] +"</h4>");
```

- 배열의 타입은 object
  - Array.isArray()를 통해 배열 여부 파악(true, false)



#### 2. API를 사용한 배열 생성

```javascript
var a1 = new Array();  // [ ]
var a2 = new Array(10); // 크기 [,,,,,,,,,]
var a3 = new Array('가'); // 원소값 ['가']
var a4 = new Array(10, 20); // 원소값 [10, 20]
var a5 = new Array(1,2,3,4,5); // 원소값 [1,2,3,4,5]
document.write(a1 + "<br>");
document.write(a2.toString() + "<br>");
document.write(a3.toString() + "<br>");
document.write(a4.toString() + "<br>");
document.write(a5.toString() + "<br>");
var d = new Date();		// 현재 시간
document.write(d.toString() + "<br>");
document.write(d + "<br>");
```

- 객체를 출력문으로 출력시키려면 `객체명.toString()` 메서드 이용
  - `.toString()`을생략해도 무관. 자동으로 `.toString()`호출
  - 객체의 내용을 출력



#### 배열의 활용

```javascript
var ary = ['둘리', '또치', '도우너', '희동이', '고길동']
document.write(ary + "<br>");
var ary2 = ary.sort();      //가나다순
document.write(ary + "<br>");	//고길동,도우너,둘리,또치,희동이
document.write(ary2 + "<br>");	//고길동,도우너,둘리,또치,희동이
document.write("<hr>");
var ary3 = [30, 11, 5, 27, 9]
document.write(ary3 + "<br>");
var ary4 = ary3.sort();     //숫자의 첫 자리수의 오름차순
document.write(ary3 + "<br>");  //11,27,30,5,9
document.write(ary4 + "<br>");	//11,27,30,5,9
document.write("<hr>");
var ary5 = [ ];
ary5.push(100);
```

- `sort()` : 숫자, 문자의 정렬
  - 문자열은 가나다순 정렬
  - 숫자는 첫 자리수를 기준으로 오름차순 정렬
- 숫자->영대문자->영소문자->한글
- `.push(num)` : 배열에 요소(num) 추가

```javascript
var ary4 = ary3.sort(function(a, b){ return a-b;});		//5,9,11,27,30
var ary4 = ary3.sort(function(a, b){ return b-a;});		//30,27,11,9,5
```

- sort()의 아규먼트에 함수를 이용해 숫자의 오름차순 or 내림차순 정렬



### 함수 

> 자바스크립트의 함수는 일급 객체이다. 
>
> 스크립트 단위로 코드를 읽고 실행

- 함수를 변수에 담아서 사용(호출)할 수 있고, 함수 호출시 아규먼트로 전달 가능, 리턴값을 함수로 전달 가능
- 함수를 호출할 때 함수에 정의된 매개변수만큼 아규먼트를 전달하지 않아도 된다.
- 함수가 값을 리턴하지 않으면 undefined가 자동으로 리턴(파이썬에서는 None)
- 가변인수를 지원 : 함수 호출시 아규먼트 개수에 제한이 없는 함수 생성
  - 가변인수 함수를 정의할 때는 매개변수 정의를 생략하고 함수 호출시 자동으로 만들어지는 arguments라는 배열을 활용
- 기본값을 갖는 매개변수 정의를 할 수 있다.

#### 1. 함수 생성

##### 선언적 함수정의(명시적 함수정의)

```javascript
function 함수명([매개변수...]){
	함수의 수행코드들...;
	return 리턴값;
}
```

```javascript
f1();
function f1() {
	document.write('f1() 호출<br>');
}
function f2(p1, p2) {
	document.write('f2() 호출-'+(p1+p2)+'<br>');	
}
f1();
f2(10,20);
var result1 = f1();	//리턴값이 없으면 undefined 리턴
var result2 = f2(100,200);
f1(100);	
f2(100);	// 100+p2가 되므로 NaN 리턴
```

- 선언적 함수 정의는 함수가 선언되기 전에 함수를 사용해도 함수가 수행된다.
  - 자바스크립트에서 스크립트를 먼저 읽고 코드를 수행하기 때문
- 리턴값이 없는 함수를 변수에 담으면 **undefined**가 리턴
- 잘못된 아규먼트를 전달해도 에러가 나지 않는다.
  - 단, 잘못된 연산값이 그대로 리턴될 수 있다.



##### 함수표현식(함수 리터럴)

```javascript
var 변수 = function([매개변수...]) {
	함수 수행코드들...;
	return 리턴값;
}
```

```javascript
//f1();		//f1 is not a function
//f11();	//f11 is not defined
var f1 = function () {  //익명함수. f1이 함수 이름을 대신한다.
	document.write('f1() 호출<br>');	
}
var f2 = function (p1, p2) {
	document.write('f2() 호출-'+(p1+p2)+'<br>');	
}
f1();
f2(10,20);
var result1 = f1();
var result2 = f2(100,200);
document.write(typeof f1 + '<br>');		//function
```



- 표현식 함수 정의는 함수를 변수에 담기 때문에 선언보다 먼저 사용시 에러
  - 선언되지 않은 함수와는 다름
- 함수의 타입은 function
  - 배열의 타입은 object, `Array.isArray()` 함수로 배열을 파악



##### 가변인자 함수

```javascript
function out() {
	document.write("아규먼트 갯수 : "+arguments.length+"<br>");
	for(var i=0; i < arguments.length; i++) 
		console.log(arguments[i]);
}
out();	//0
out(10);	//1
out('a', 'b', 'c');	//3
out(1,2,3,4,5,6,7,8);	//8
```

- 자바스크립트는 매개변수를 철저히 지키지 않는다.
- 아규먼트들을 배열에 접근하듯 사용
  - `arguments.length` , `arguments[i]` 등



#### 2. 함수 사용 => 호출, r-value

```javascript
함수명([아규먼트...]);
var r = 함수명([아규먼트..]);
```

##### exam16

```javascript
<script>
function pr(p) {
	document.write(typeof p + " : " + p + "<br>");	
}
pr(new Array(1,2,3));
pr(new Date());	//object타입. 현재 시간을 출력
//prNum(10);    //에러발생. 아래 스크립트 태그에 정의된 함수
</script>

<script>
function prNum(p) {
	if(typeof p == "number")
		document.write("숫자 전달 : " + p + "<br>");
	else if (p == undefined)
		document.write("아규먼트를 전달하시오 : " + p + "<br>");
	else
		document.write(typeof p + " : " + p + "<br>");	
}
pr(100000);     //위에 위치한 스크립트태그의 함수는 호출 가능
</script>

<script>
function prAll() {
	for(var i=0; i < arguments.length; i++)
		document.writeln(arguments[i]);     //출력 후 1칸 띄어쓰기
	document.write("<br>");
	return arguments.length;
}
var r2 = prAll(1,2,3,4,5);
var r3 = prAll('a', 'b', '가', true);
var r4 = prAll();
document.write(r2 + "<br>");
document.write(r3 + "<br>");
document.write(r4 + "<br>");
</script>
```

- 자바스크립트는 스크립트단위로 읽고 수행하기 때문에 아래에 위치한 다른 스크립트의 함수는 위의 스크립트에서 사용할 수 없다.
  - 아래 스크립트에서 위 스크립트의 함수는 사용 가능
- `document.writeln(arg);` : arg 출력 후 1칸 공백을 줌
  - 개행x

##### exam17

```javascript
function output(p) {
	if(typeof p == 'function') {
		p("ㅋㅋㅋ");
	} else {
		document.write("<h2>ㅋㅋㅋ : "+p+"</h2>");		
	}	
}
output("둘리");
output(function(param) { console.log(param);})  //아규먼트가 함수라서 param = "ㅋㅋㅋ"
function myAlert(param) {
//var myAlert = function(param) {
	window.alert(param);
}
output(myAlert);
```

- 함수의 인자를 함수로 줄 수 있다.
  - 길이가 짧은 함수는 매개변수 자리에서 정의 가능
  - 람다함수와 유사

##### exam18

```javascript
var displayDate = function () {
	var d = new Date();		//Thu Jan 21 2021 21:23:37 GMT+0900 (대한민국 표준시)
	document.write(d.toLocaleString()+"<br>");	//2021. 1. 21. 오후 9:23:37
};
var time = 5000;
window.setInterval(displayDate, time);
```

- `window.setInterval(displayDate, time); `
  - 첫 인자는 무조건 함수, 두번째는 시간
  - 일정 시간마다 함수를 수행

